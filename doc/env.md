# 运行环境 (Env)

## 一、指定运行环境
指定运行环境, 支持两种方式:
1. 运行参数指令
2. env文件指定

### 1.1 运行参数指令
框架支持根据命令行参数指定运行环境, 如
```shell
# 指定运行环境为dev
go run main.go --env dev
```
详情可见: [运行参数](./args.md)

### 1.2 env文件指定
框架支持读取env文件内容, 来执行运行环境, 逻辑如下：
1. 读取运行目录中的env文件首行内容
2. 正则匹配 `[a-zA-Z0-9_]+` 格式的内容

### 1.3 指定顺序
1. 先从运行参数中获取, 如果不为空, 则取该值为环境变量
2. 若`步骤1`获取数据为空, 则通过 `env` 文件获取, 如果不为空, 则取该值为环境变量
3. 若`步骤1`和`步骤2`都获取失败, 则取`default`为环境变量


## 二、应用内获取运行环境
框架内的app包，可通过`app.Env`获取当前应用的运行环境。以下是一个简单的示例代码，展示如何在代码中获取运行环境：
```golang
import (
    "github.com/zzsen/gin_core/app"
    "fmt"
)
func testFunc() {
  fmt.Println("env:", app.Env)
}
```

## 三、运行环境相关配置
不同环境可加载不同配置, 具体可见: [配置](./config.md)
